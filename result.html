<!DOCTYPE html>
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
img {
  max-width: 100%;
  height: auto;
}
.dot {
    height: 0px;
    width: 0px;
    position: absolute;
    border: 5px solid red;
    z-index: 10;
    opacity: 0.8;
}
</style>
</head>
  
<body>  

<div style='position:relative' id='wrapper'>
    <img src='triangle.png'>
</div>
  <br>
  <p id="result"></p>
  
  <script>
      var x;
      var y;
      var x2;
      var y2;
      var rawx;
      var rawy;
      var maxrawx;
      var maxrawy;
      var sl = 0;
      var sr = 0;
      var sc = 0;
      var r = 0;
      var l = 0;
      var c = 0;
      var i;
      var pair;
      var query = window.location.search.substring(1);
      var vars = query.split("&");
    
      for (i = 0; i < vars.length; i++) {
        pair = vars[i].split("=");
        switch(pair[1]) {
          case "ra":
            r += 0;
            break;
          case "rb":
            r += 1;
            break;
          case "rc":
            r += 3;
            break;
          case "rd":
            r += 5;
            break;
          case "re":
            r += 6;
            break;
          case "la":
            r += 0;
            break;
          case "lb":
            r += 1;
            break;
          case "lc":
            r += 3;
            break;
          case "ld":
            r += 5;
            break;
          case "le":
            r += 6;
            break;
          case "ca":
            r += 0;
            break;
          case "cb":
            r += 1;
            break;
          case "cc":
            r += 3;
            break;
          case "cd":
            r += 5;
            break;
          case "ce":
            r += 6;
            break;
        }
      }

    r = 0;
    l = 90;
    c = 90;
    document.write(r);
    document.write("<br>");
    document.write(l);
    document.write("<br>");
    document.write(c);
    document.write("<br>");
    
   /rawx = Math.sqrt(3)/2*((3/2)*r-(3/2)*l);
    document.write(rawx);
    document.write("<br>");
    rawy = ((1+ Math.sqrt(3) / 2)*(l+r) - c);
    document.write(rawy);
    document.write("<br>");
            
    maxrawx= Math.sqrt(3)/2 * 6 * vars.length;
    document.write(maxrawx);
    document.write("<br>");
    maxrawy = ((1+ Math.sqrt(3) / 2)*(6*vars.length+6*vars.length) + 6*vars.length);
    document.write(maxrawy);
    document.write("<br>");
    
    //x = 411 + (371 * rawx/maxrawx);
    //y = 323 - (323 * rawy/maxrawy);

    //rawx = ((Math.min(-1*l,0)+Math.max(r,0))*Math.min((90-c)/90,1)+45)/90;
    //rawy = (Math.max(0,l,r)-Math.max(0,c)+45)/90;
    
    //document.write(rawx);
    //document.write("<br>");
    //document.write(rawy);
    //document.write("<br>");
    
    x = 411 + (371 * rawx);
    y = 323 - (323 * rawy);
    //x = 38 + (745 * rawx);
    //y = 649 - (645 * rawy);
    
    x2 = (x-3)/823*100*.985;
    y2 = ((y-10)/656*100)*.982;
    
    x3 = x-5;
    y3 = y-5;

    var div = document.createElement('div');
    var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
    div.className = 'dot';
    
    if (width < 656) {
      div.style.left = x2 + '%';
      div.style.top = y2 + '%';
    }    
    else {
      div.style.left = x3 +'px';
      div.style.top = y3 +'px';
    }
    document.getElementById('wrapper').appendChild(div); 
    
    if (l/vars.length > 0.625337) {
      document.getElementById("result").innerHTML = "According to this test you are a <b>revolutionary</b>.";
    }
    else if (r/vars.length > 0.625337) {
      document.getElementById("result").innerHTML = "According to this test you are a <b>reactionary</b>.";
    }
    else if (y < 137) {
      document.getElementById("result").innerHTML = "According to this test you are an <b>extremist</b>.";
    }
    else if (x < 144) {
      document.getElementById("result").innerHTML = "According to this test you are a <b>progressive</b>.";
    }
    else if (x > 488) {
      document.getElementById("result").innerHTML = "According to this test you are a <b>conservative</b>.";
    }
    else if (y < 360) {
      document.getElementById("result").innerHTML = "According to this test you are a <b>radical centrist</b>.";
    }
    else {
      document.getElementById("result").innerHTML = "According to this test you are a <b>liberal/moderate</br>";
    }

  </script>
  This test is still in development. Please send any critiques and criticisms to comments@whitehouse.gov
  <br>Saving the image does not work. You have to take a screenshot and crop the results.
  
</body>
</html>
